/*! (C) Copyright 2020 LanguageTooler GmbH. All rights reserved. */
class PremiumErrorsTeaser{constructor(r,t,e,s,i){this._container=r,this._language=t,this._grammarErrorsCount=e,this._punctuationErrorsCount=s,this._styleErrorsCount=i,this._totalErrorsCount=e+s+i}_translate(){translateSection(this._container);const r=1===this._totalErrorsCount?"premiumErrorsTextSingular":"premiumErrorsTextPlural";translateElement(this._text,{key:r,isHTML:!0,interpolations:[this._totalErrorsCount]})}_observe(){this._element.addEventListener("click",()=>{Tracker.trackEvent("Action","dialog:premium_teaser:click")})}render(){loadStylesheet("/teaser/premiumErrors/premiumErrors.css"),loadHTML("/teaser/premiumErrors/premiumErrors.html").then(r=>{this._container.innerHTML=r,this._element=this._container.querySelector("#premium-errors-teaser"),this._text=this._container.querySelector("#lt-premium-errors-teaser-text"),this._translate(),this._observe(),Tracker.trackEvent("Action","dialog:premium_teaser"),this._element.addEventListener("click",r=>{const t={command:"OPEN_PREMIUM_PAGE",campaign:"addon2-dialog-premium-errors",hiddenGrammarMatches:this._grammarErrorsCount,hiddenPunctuationMatches:this._punctuationErrorsCount,hiddenStyleMatches:this._styleErrorsCount,textLanguage:this._language};browser.runtime.sendMessage(t),r.preventDefault()})})}}