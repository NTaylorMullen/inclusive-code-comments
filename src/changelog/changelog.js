let visibilityTracked=!1,counterInterval=null;const TWO_DAYS=1728e5,storageController=StorageController.create(),MESSAGES={TIMER_LABEL_HOUR_SINGULAR:i18nManager.getMessage("changelog2020TimerHourSingular"),TIMER_LABEL_HOUR_PLURAL:i18nManager.getMessage("changelog2020TimerHourPlural"),TIMER_LABEL_MINUTE_SINGULAR:i18nManager.getMessage("changelog2020TimerMinuteSingular"),TIMER_LABEL_MINUTE_PLURAL:i18nManager.getMessage("changelog2020TimerMinutePlural"),TIMER_LABEL_SECOND_SINGULAR:i18nManager.getMessage("changelog2020TimerSecondSingular"),TIMER_LABEL_SECOND_PLURAL:i18nManager.getMessage("changelog2020TimerSecondPlural")};function startCounter(){const e=document.getElementById("countdown"),t=document.getElementById("timer__labels__label--hour"),n=document.getElementById("timer__labels__label--minute"),o=document.getElementById("timer__labels__label--second");storageController.onReady(()=>{storageController.startChangelogCoupon(),counterInterval&&window.clearInterval(counterInterval),counterInterval=window.setInterval(()=>{const r=storageController.getActiveCoupon(),a=document.createElement("div"),l=getCountdown(r?r.expires:0),c=l.split(/:|/);c.forEach((e,t)=>{const n=document.createElement("span");if(n.className="navigation__count-down__diget",n.textContent=e,a.appendChild(n),t%2==1&&t<c.length-1){const e=document.createElement("span");e.className="navigation__count-down__divider",e.textContent=":",a.appendChild(e)}});const i=l.split(":");t.textContent=1===parseInt(i[0])?MESSAGES.TIMER_LABEL_HOUR_SINGULAR:MESSAGES.TIMER_LABEL_HOUR_PLURAL,n.textContent=1===parseInt(i[1])?MESSAGES.TIMER_LABEL_MINUTE_SINGULAR:MESSAGES.TIMER_LABEL_MINUTE_PLURAL,o.textContent=1===parseInt(i[2])?MESSAGES.TIMER_LABEL_SECOND_SINGULAR:MESSAGES.TIMER_LABEL_SECOND_PLURAL,e.innerHTML=a.innerHTML},1e3)})}function checkForVisibility(){const e=document.querySelector("#favicon");window.matchMedia&&window.matchMedia("(prefers-color-scheme:dark)").matches&&(e.href=e.href.replace("-color","-white")),"visible"!==document.visibilityState||visibilityTracked||(visibilityTracked=!0,Tracker.trackEvent("Action","changelog:seen"),startCounter(),e.href=e.href.replace("_notification",""))}document.addEventListener("visibilitychange",()=>checkForVisibility()),checkForVisibility(),storageController.onReady(()=>{const{geoIpCountry:e,geoIpLanguages:t}=storageController.getSettings();e&&["de","li","lu","gb","at","nl","be","ch","fr","ie","pl","dk","no","it","es","pt","cz"].includes(e.toLowerCase())&&(document.querySelector(".made-in-eu").style.display="block");const n=Array.from(navigator.languages).concat(t||[]).some(e=>e.toLowerCase().startsWith("de")),o=Array.from(navigator.languages).concat(t||[]).some(e=>e.toLowerCase().startsWith("es"));if(n)document.body.classList.add("de-user");else{const e=document.getElementById("translate");null===e||void 0===e||e.remove()}if(o)document.body.classList.add("es-user");else{const e=document.getElementById("spanish");null===e||void 0===e||e.remove()}}),Array.from(document.querySelectorAll("a[href='upgrade']")).forEach(e=>{e.addEventListener("click",()=>{Tracker.trackEvent("Action","changelog:click_upgrade")})});let scrollTracked=!1;window.addEventListener("scroll",()=>{!scrollTracked&&document.scrollingElement&&document.scrollingElement.scrollTop>600&&(scrollTracked=!0,Tracker.trackEvent("Action","changelog:scrolled"))}),translateSection(document.documentElement);