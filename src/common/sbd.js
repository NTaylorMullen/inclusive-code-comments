!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).tokenizer=e()}}(function(){return function(){return function e(n,t,i){function r(s,u){if(!t[s]){if(!n[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var c=t[s]={exports:{}};n[s][0].call(c.exports,function(e){return r(n[s][1][e]||e)},c,c.exports,e,n,t,i)}return t[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}}()({1:[function(e,n,t){var i,r=["al","adj","assn","Ave","BSc","MSc","Cell","Ch","Co","cc","Corp","Dem","Dept","ed","eg","Eq","Eqs","est","est","etc","Ex","ext","Fig","fig","Figs","figs","i.e","ie","Inc","inc","Jan","Feb","Mar","Apr","Jun","Jul","Aug","Sep","Sept","Oct","Nov","Dec","jr","mi","Miss","Mrs","Mr","Ms","Mol","mt","mts","no","Nos","PhD","MD","BA","MA","MM","pl","pop","pp","Prof","Dr","pt","Ref","Refs","Rep","repr","rev","Sec","Secs","Sgt","Col","Gen","Rep","Sen","Gov","Lt","Maj","Capt","St","Sr","sr","Jr","jr","Rev","Sun","Mon","Tu","Tue","Tues","Wed","Th","Thu","Thur","Thurs","Fri","Sat","trans","Univ","Viz","Vol","vs","v"];t.setAbbreviations=function(e){i=e||r};var o=t.isCapitalized=function(e){return/^[A-Z][a-z].*/.test(e)||s(e)};t.isSentenceStarter=function(e){return o(e)||/``|"|'/.test(e.substring(0,2))},t.isCommonAbbreviation=function(e){var n=e.replace(/[-'`~!@#$%^&*()_|+=?;:'",.<>\{\}\[\]\\\/]/gi,"");return~i.indexOf(n)},t.isTimeAbbreviation=function(e,n){if(("a.m."===e||"p.m."===e)&&"day"===n.replace(/\W+/g,"").slice(-3).toLowerCase())return!0;return!1},t.isDottedAbbreviation=function(e){var n=e.replace(/[\(\)\[\]\{\}]/g,"").match(/(.\.)*/);return n&&n[0].length>0},t.isCustomAbbreviation=function(e){return e.length<=3||o(e)},t.isNameAbbreviation=function(e,n){return n.length>0&&(!!(e<5&&n[0].length<6&&o(n[0]))||n.filter(function(e){return/[A-Z]/.test(e.charAt(0))}).length>=3)};var s=t.isNumber=function(e,n){return n&&(e=e.slice(n-1,n+2)),!isNaN(e)};t.isPhoneNr=function(e){return e.match(/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/)},t.isURL=function(e){return e.match(/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/)},t.isConcatenated=function(e){var n=0;if(((n=e.indexOf("."))>-1||(n=e.indexOf("!"))>-1||(n=e.indexOf("?"))>-1)&&e.charAt(n+1).match(/[a-zA-Z].*/))return[e.slice(0,n),e.slice(n+1)];return!1},t.isBoundaryChar=function(e){return"."===e||"!"===e||"?"===e}},{}],2:[function(e,n,t){n.exports=function(e,n){if(("string"==typeof e||e instanceof String)&&"undefined"!=typeof document){var t=document.createElement("DIV");t.innerHTML=e,e=(t.textContent||"").trim()}else"object"==typeof e&&e.textContent&&(e=(e.textContent||"").trim());return e}},{}],3:[function(e,n,t){t.endsWithChar=function(e,n){return n.length>1?n.indexOf(e.slice(-1))>-1:e.slice(-1)===n},t.endsWith=function(e,n){return e.slice(e.length-n.length)===n}},{}],4:[function(e,n,t){var i=e("sanitize-html"),r=e("./stringHelper"),o=e("./Match"),s=" @~@ ".trim(),u=new RegExp("\\S",""),a=new RegExp("\\n+|[-#=_+*]{4,}","g"),f=new RegExp("\\S+|\\n","g");t.sentences=function(e,n){if(!e||"string"!=typeof e||!e.length)return[];if(!u.test(e))return[];var t,c,l={newline_boundaries:!1,html_boundaries:!1,html_boundaries_tags:["p","div","ul","ol"],sanitize:!1,allowed_tags:!1,preserve_whitespace:!1,abbreviations:null};if("boolean"==typeof n)l.newline_boundaries=!0;else for(var p in n)l[p]=n[p];if(o.setAbbreviations(l.abbreviations),l.newline_boundaries&&(e=e.replace(a," @~@ ")),l.html_boundaries){var h="(<br\\s*\\/?>|<\\/("+l.html_boundaries_tags.join("|")+")>)",d=new RegExp(h,"g");e=e.replace(d,"$1 @~@ ")}(l.sanitize||l.allowed_tags)&&(l.allowed_tags||(l.allowed_tags=[""]),e=i(e,{allowedTags:l.allowed_tags}));var b=0,g=0,v=[],m=[],A=[];if(!(t=l.preserve_whitespace?(c=e.split(/(<br\s*\/?>|\S+|\n+)/)).filter(function(e,n){return n%2}):e.trim().match(f))||!t.length)return[];for(var _=0,x=t.length;_<x;_++)if(b++,A.push(t[_]),~t[_].indexOf(",")&&(b=0),o.isBoundaryChar(t[_])||r.endsWithChar(t[_],"?!")||t[_]===s)(l.newline_boundaries||l.html_boundaries)&&t[_]===s&&A.pop(),m.push(A),b=0,A=[];else if((r.endsWithChar(t[_],'"')||r.endsWithChar(t[_],"”"))&&(t[_]=t[_].slice(0,-1)),r.endsWithChar(t[_],".")){if(_+1<x){if(2===t[_].length&&isNaN(t[_].charAt(0)))continue;if(o.isCommonAbbreviation(t[_]))continue;if(o.isSentenceStarter(t[_+1])){if(o.isTimeAbbreviation(t[_],t[_+1]))continue;if(o.isNameAbbreviation(b,t.slice(_,6)))continue;if(o.isNumber(t[_+1])&&o.isCustomAbbreviation(t[_]))continue}else{if(r.endsWith(t[_],".."))continue;if(o.isDottedAbbreviation(t[_]))continue;if(o.isNameAbbreviation(b,t.slice(_,5)))continue}}m.push(A),A=[],b=0}else{if((g=t[_].indexOf("."))>-1){if(o.isNumber(t[_],g))continue;if(o.isDottedAbbreviation(t[_]))continue;if(o.isURL(t[_])||o.isPhoneNr(t[_]))continue}(v=o.isConcatenated(t[_]))&&(A.pop(),A.push(v[0]),m.push(A),b=0,(A=[]).push(v[1]))}return A.length&&m.push(A),(m=m.filter(function(e){return e.length>0})).slice(1).reduce(function(e,n){var t=e[e.length-1];return 1===t.length&&/^.{1,2}[.]$/.test(t[0])&&!/[.]/.test(n[0])?(e.pop(),e.push(t.concat(n)),e):(e.push(n),e)},[m[0]]).map(function(e,n){if(l.preserve_whitespace&&!l.newline_boundaries&&!l.html_boundaries){var t=2*e.length;return 0===n&&(t+=1),c.splice(0,t).join("")}return e.join(" ")})}},{"./Match":1,"./stringHelper":3,"sanitize-html":2}]},{},[4])(4)});